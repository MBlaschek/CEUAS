#!/usr/bin/env python
#################################################################
# Python Script to retrieve 737 online Data files of 'ds370.1',
# total 9.59G. This script uses 'requests' to download data.
#
# Highlight this script by Select All, Copy and Paste it into a file;
# make the file executable and run it on command line.
#
# You need pass in your password as a parameter to execute
# this script; or you can set an environment variable RDAPSWD
# if your Operating System supports it.
#
# Contact chifan@ucar.edu (Chi-Fan Shih) for further assistance.
#################################################################


import sys, os
import requests

def check_file_status(filepath, filesize):
    sys.stdout.write('\r')
    sys.stdout.flush()
    size = int(os.stat(filepath).st_size)
    percent_complete = (size/filesize)*100
    sys.stdout.write('%.3f %s' % (percent_complete, '% Completed'))
    sys.stdout.flush()

# Try to get password
if len(sys.argv) < 2 and not 'RDAPSWD' in os.environ:
    try:
        import getpass
        input = getpass.getpass
    except:
        try:
            input = raw_input
        except:
            pass
    pswd = input('Password: ')
else:
    try:
        pswd = sys.argv[1]
    except:
        pswd = os.environ['RDAPSWD']

url = 'https://rda.ucar.edu/cgi-bin/login'
values = {'email' : 'federico.ambrogi88@gmail.com', 'passwd' : pswd, 'action' : 'login'}
# Authenticate
ret = requests.post(url,data=values)
if ret.status_code != 200:
    print('Bad Authentication')
    print(ret.text)
    exit(1)
dspath = 'https://rda.ucar.edu/data/ds370.1/'
filelist = [
'uadb_windc_7265.txt',
'uadb_windc_72654.txt',
'uadb_windc_72655.txt',
'uadb_windc_72659.txt',
'uadb_windc_72662.txt',
'uadb_windc_72666.txt',
'uadb_windc_72672.txt',
'uadb_windc_72677.txt',
'uadb_windc_72681.txt',
'uadb_windc_72683.txt',
'uadb_windc_72688.txt',
'uadb_windc_72693.txt',
'uadb_windc_72694.txt',
'uadb_windc_72698.txt',
'uadb_windc_72712.txt',
'uadb_windc_72734.txt',
'uadb_windc_72743.txt',
'uadb_windc_72745.txt',
'uadb_windc_72747.txt',
'uadb_windc_72753.txt',
'uadb_windc_72764.txt',
'uadb_windc_72767.txt',
'uadb_windc_72768.txt',
'uadb_windc_72773.txt',
'uadb_windc_72776.txt',
'uadb_windc_72777.txt',
'uadb_windc_72781.txt',
'uadb_windc_72783.txt',
'uadb_windc_72786.txt',
'uadb_windc_72792.txt',
'uadb_windc_72793.txt',
'uadb_windc_72797.txt',
'uadb_windc_72798.txt',
'uadb_windc_7280.txt',
'uadb_windc_72803.txt',
'uadb_windc_72807.txt',
'uadb_windc_72852.txt',
'uadb_windc_72869.txt',
'uadb_windc_72879.txt',
'uadb_windc_72938.txt',
'uadb_windc_72953.txt',
'uadb_windc_7354.txt',
'uadb_windc_74001.txt',
'uadb_windc_74002.txt',
'uadb_windc_74003.txt',
'uadb_windc_74004.txt',
'uadb_windc_74005.txt',
'uadb_windc_74006.txt',
'uadb_windc_74090.txt',
'uadb_windc_74119.txt',
'uadb_windc_7412.txt',
'uadb_windc_74207.txt',
'uadb_windc_7435.txt',
'uadb_windc_74370.txt',
'uadb_windc_74389.txt',
'uadb_windc_74399.txt',
'uadb_windc_74401.txt',
'uadb_windc_74413.txt',
'uadb_windc_74455.txt',
'uadb_windc_74479.txt',
'uadb_windc_74486.txt',
'uadb_windc_74494.txt',
'uadb_windc_74504.txt',
'uadb_windc_74505.txt',
'uadb_windc_74530.txt',
'uadb_windc_74531.txt',
'uadb_windc_74545.txt',
'uadb_windc_74547.txt',
'uadb_windc_74560.txt',
'uadb_windc_74611.txt',
'uadb_windc_74612.txt',
'uadb_windc_74614.txt',
'uadb_windc_74618.txt',
'uadb_windc_74619.txt',
'uadb_windc_74626.txt',
'uadb_windc_74631.txt',
'uadb_windc_74638.txt',
'uadb_windc_74641.txt',
'uadb_windc_74646.txt',
'uadb_windc_74650.txt',
'uadb_windc_74651.txt',
'uadb_windc_74671.txt',
'uadb_windc_74693.txt',
'uadb_windc_74695.txt',
'uadb_windc_7470.txt',
'uadb_windc_74704.txt',
'uadb_windc_74724.txt',
'uadb_windc_74732.txt',
'uadb_windc_74754.txt',
'uadb_windc_74755.txt',
'uadb_windc_74777.txt',
'uadb_windc_74778.txt',
'uadb_windc_74780.txt',
'uadb_windc_74792.txt',
'uadb_windc_74794.txt',
'uadb_windc_74796.txt',
'uadb_windc_7481.txt',
'uadb_windc_7502.txt',
'uadb_windc_7510.txt',
'uadb_windc_7535.txt',
'uadb_windc_7558.txt',
'uadb_windc_7577.txt',
'uadb_windc_7591.txt',
'uadb_windc_7602.txt',
'uadb_windc_7603.txt',
'uadb_windc_76062.txt',
'uadb_windc_7607.txt',
'uadb_windc_76151.txt',
'uadb_windc_76160.txt',
'uadb_windc_76225.txt',
'uadb_windc_76256.txt',
'uadb_windc_7627.txt',
'uadb_windc_7630.txt',
'uadb_windc_76342.txt',
'uadb_windc_76370.txt',
'uadb_windc_76382.txt',
'uadb_windc_76394.txt',
'uadb_windc_76405.txt',
'uadb_windc_7645.txt',
'uadb_windc_76458.txt',
'uadb_windc_76499.txt',
'uadb_windc_7650.txt',
'uadb_windc_76526.txt',
'uadb_windc_76549.txt',
'uadb_windc_76595.txt',
'uadb_windc_7660.txt',
'uadb_windc_76612.txt',
'uadb_windc_76644.txt',
'uadb_windc_76648.txt',
'uadb_windc_76654.txt',
'uadb_windc_76679.txt',
'uadb_windc_76680.txt',
'uadb_windc_76692.txt',
'uadb_windc_76713.txt',
'uadb_windc_76723.txt',
'uadb_windc_76730.txt',
'uadb_windc_76743.txt',
'uadb_windc_76749.txt',
'uadb_windc_76750.txt',
'uadb_windc_76805.txt',
'uadb_windc_76827.txt',
'uadb_windc_76833.txt',
'uadb_windc_7690.txt',
'uadb_windc_76903.txt',
'uadb_windc_76904.txt',
'uadb_windc_7747.txt',
'uadb_windc_7761.txt',
'uadb_windc_78016.txt',
'uadb_windc_78063.txt',
'uadb_windc_78073.txt',
'uadb_windc_78076.txt',
'uadb_windc_78083.txt',
'uadb_windc_78089.txt',
'uadb_windc_78107.txt',
'uadb_windc_78118.txt',
'uadb_windc_78325.txt',
'uadb_windc_78355.txt',
'uadb_windc_78367.txt',
'uadb_windc_78384.txt',
'uadb_windc_78397.txt',
'uadb_windc_78439.txt',
'uadb_windc_78486.txt',
'uadb_windc_78501.txt',
'uadb_windc_78526.txt',
'uadb_windc_78535.txt',
'uadb_windc_78547.txt',
'uadb_windc_78583.txt',
'uadb_windc_78637.txt',
'uadb_windc_78641.txt',
'uadb_windc_78647.txt',
'uadb_windc_78662.txt',
'uadb_windc_78663.txt',
'uadb_windc_78700.txt',
'uadb_windc_78718.txt',
'uadb_windc_78720.txt',
'uadb_windc_78721.txt',
'uadb_windc_78724.txt',
'uadb_windc_78730.txt',
'uadb_windc_78740.txt',
'uadb_windc_78741.txt',
'uadb_windc_78762.txt',
'uadb_windc_78788.txt',
'uadb_windc_78793.txt',
'uadb_windc_78801.txt',
'uadb_windc_78805.txt',
'uadb_windc_78806.txt',
'uadb_windc_78807.txt',
'uadb_windc_78808.txt',
'uadb_windc_78810.txt',
'uadb_windc_78861.txt',
'uadb_windc_78866.txt',
'uadb_windc_78894.txt',
'uadb_windc_78897.txt',
'uadb_windc_78925.txt',
'uadb_windc_78949.txt',
'uadb_windc_78954.txt',
'uadb_windc_78967.txt',
'uadb_windc_78970.txt',
'uadb_windc_78988.txt',
'uadb_windc_80001.txt',
'uadb_windc_8001.txt',
'uadb_windc_80022.txt',
'uadb_windc_80035.txt',
'uadb_windc_80081.txt',
'uadb_windc_80222.txt',
'uadb_windc_8023.txt',
'uadb_windc_80241.txt',
'uadb_windc_80259.txt',
'uadb_windc_80337.txt',
'uadb_windc_80371.txt',
'uadb_windc_80398.txt',
'uadb_windc_80407.txt',
'uadb_windc_80410.txt',
'uadb_windc_80413.txt',
'uadb_windc_80415.txt',
'uadb_windc_80419.txt',
'uadb_windc_80421.txt',
'uadb_windc_80422.txt',
'uadb_windc_80425.txt',
'uadb_windc_80435.txt',
'uadb_windc_80444.txt',
'uadb_windc_80447.txt',
'uadb_windc_80448.txt',
'uadb_windc_80450.txt',
'uadb_windc_80453.txt',
'uadb_windc_80457.txt',
'uadb_windc_80462.txt',
'uadb_windc_80476.txt',
'uadb_windc_8055.txt',
'uadb_windc_8084.txt',
'uadb_windc_8087.txt',
'uadb_windc_81002.txt',
'uadb_windc_81202.txt',
'uadb_windc_81209.txt',
'uadb_windc_81225.txt',
'uadb_windc_81250.txt',
'uadb_windc_81251.txt',
'uadb_windc_81253.txt',
'uadb_windc_8140.txt',
'uadb_windc_81401.txt',
'uadb_windc_81403.txt',
'uadb_windc_81405.txt',
'uadb_windc_81408.txt',
'uadb_windc_81415.txt',
'uadb_windc_8160.txt',
'uadb_windc_8181.txt',
'uadb_windc_8190.txt',
'uadb_windc_8202.txt',
'uadb_windc_82022.txt',
'uadb_windc_82026.txt',
'uadb_windc_82030.txt',
'uadb_windc_82099.txt',
'uadb_windc_82107.txt',
'uadb_windc_82193.txt',
'uadb_windc_8221.txt',
'uadb_windc_82243.txt',
'uadb_windc_82244.txt',
'uadb_windc_82276.txt',
'uadb_windc_82281.txt',
'uadb_windc_82287.txt',
'uadb_windc_82332.txt',
'uadb_windc_8238.txt',
'uadb_windc_82397.txt',
'uadb_windc_82398.txt',
'uadb_windc_82400.txt',
'uadb_windc_82411.txt',
'uadb_windc_82532.txt',
'uadb_windc_82571.txt',
'uadb_windc_82579.txt',
'uadb_windc_82586.txt',
'uadb_windc_82599.txt',
'uadb_windc_82640.txt',
'uadb_windc_82678.txt',
'uadb_windc_82705.txt',
'uadb_windc_82765.txt',
'uadb_windc_82784.txt',
'uadb_windc_82824.txt',
'uadb_windc_82898.txt',
'uadb_windc_82900.txt',
'uadb_windc_82917.txt',
'uadb_windc_82930.txt',
'uadb_windc_82965.txt',
'uadb_windc_82983.txt',
'uadb_windc_82993.txt',
'uadb_windc_8302.txt',
'uadb_windc_83063.txt',
'uadb_windc_83096.txt',
'uadb_windc_8314.txt',
'uadb_windc_83182.txt',
'uadb_windc_83208.txt',
'uadb_windc_83229.txt',
'uadb_windc_83236.txt',
'uadb_windc_83248.txt',
'uadb_windc_83288.txt',
'uadb_windc_8330.txt',
'uadb_windc_83362.txt',
'uadb_windc_83378.txt',
'uadb_windc_83498.txt',
'uadb_windc_83525.txt',
'uadb_windc_83554.txt',
'uadb_windc_83566.txt',
'uadb_windc_83576.txt',
'uadb_windc_83612.txt',
'uadb_windc_83649.txt',
'uadb_windc_83650.txt',
'uadb_windc_83743.txt',
'uadb_windc_83746.txt',
'uadb_windc_83768.txt',
'uadb_windc_83779.txt',
'uadb_windc_83827.txt',
'uadb_windc_83840.txt',
'uadb_windc_83842.txt',
'uadb_windc_83899.txt',
'uadb_windc_83928.txt',
'uadb_windc_83937.txt',
'uadb_windc_83967.txt',
'uadb_windc_83971.txt',
'uadb_windc_83981.txt',
'uadb_windc_84008.txt',
'uadb_windc_84111.txt',
'uadb_windc_84203.txt',
'uadb_windc_8430.txt',
'uadb_windc_84378.txt',
'uadb_windc_84390.txt',
'uadb_windc_84401.txt',
'uadb_windc_84416.txt',
'uadb_windc_84452.txt',
'uadb_windc_84515.txt',
'uadb_windc_84628.txt',
'uadb_windc_84631.txt',
'uadb_windc_84633.txt',
'uadb_windc_84691.txt',
'uadb_windc_84752.txt',
'uadb_windc_8495.txt',
'uadb_windc_85041.txt',
'uadb_windc_8507.txt',
'uadb_windc_8508.txt',
'uadb_windc_85154.txt',
'uadb_windc_85201.txt',
'uadb_windc_8522.txt',
'uadb_windc_85245.txt',
'uadb_windc_85268.txt',
'uadb_windc_85295.txt',
'uadb_windc_85406.txt',
'uadb_windc_85442.txt',
'uadb_windc_8545.txt',
'uadb_windc_85469.txt',
'uadb_windc_85486.txt',
'uadb_windc_8549.txt',
'uadb_windc_8554.txt',
'uadb_windc_85543.txt',
'uadb_windc_85577.txt',
'uadb_windc_85579.txt',
'uadb_windc_85586.txt',
'uadb_windc_8579.txt',
'uadb_windc_85799.txt',
'uadb_windc_85801.txt',
'uadb_windc_85934.txt',
'uadb_windc_8594.txt',
'uadb_windc_86068.txt',
'uadb_windc_86218.txt',
'uadb_windc_86580.txt',
'uadb_windc_87047.txt',
'uadb_windc_87078.txt',
'uadb_windc_87120.txt',
'uadb_windc_87127.txt',
'uadb_windc_87155.txt',
'uadb_windc_87166.txt',
'uadb_windc_87178.txt',
'uadb_windc_87257.txt',
'uadb_windc_87270.txt',
'uadb_windc_87281.txt',
'uadb_windc_87312.txt',
'uadb_windc_87320.txt',
'uadb_windc_87344.txt',
'uadb_windc_87345.txt',
'uadb_windc_87347.txt',
'uadb_windc_87374.txt',
'uadb_windc_87393.txt',
'uadb_windc_87395.txt',
'uadb_windc_87400.txt',
'uadb_windc_87418.txt',
'uadb_windc_87436.txt',
'uadb_windc_87480.txt',
'uadb_windc_87509.txt',
'uadb_windc_87534.txt',
'uadb_windc_87548.txt',
'uadb_windc_87576.txt',
'uadb_windc_87596.txt',
'uadb_windc_87623.txt',
'uadb_windc_87642.txt',
'uadb_windc_87673.txt',
'uadb_windc_87692.txt',
'uadb_windc_87715.txt',
'uadb_windc_87748.txt',
'uadb_windc_87750.txt',
'uadb_windc_87764.txt',
'uadb_windc_87765.txt',
'uadb_windc_87774.txt',
'uadb_windc_87784.txt',
'uadb_windc_87790.txt',
'uadb_windc_87827.txt',
'uadb_windc_87828.txt',
'uadb_windc_87860.txt',
'uadb_windc_87909.txt',
'uadb_windc_87925.txt',
'uadb_windc_87926.txt',
'uadb_windc_87934.txt',
'uadb_windc_87938.txt',
'uadb_windc_88889.txt',
'uadb_windc_88890.txt',
'uadb_windc_88903.txt',
'uadb_windc_88925.txt',
'uadb_windc_88938.txt',
'uadb_windc_88952.txt',
'uadb_windc_88967.txt',
'uadb_windc_88968.txt',
'uadb_windc_89001.txt',
'uadb_windc_89002.txt',
'uadb_windc_89009.txt',
'uadb_windc_89022.txt',
'uadb_windc_89043.txt',
'uadb_windc_89050.txt',
'uadb_windc_89055.txt',
'uadb_windc_89056.txt',
'uadb_windc_89062.txt',
'uadb_windc_89063.txt',
'uadb_windc_89125.txt',
'uadb_windc_89512.txt',
'uadb_windc_89522.txt',
'uadb_windc_89532.txt',
'uadb_windc_89542.txt',
'uadb_windc_89557.txt',
'uadb_windc_89564.txt',
'uadb_windc_89571.txt',
'uadb_windc_89592.txt',
'uadb_windc_89595.txt',
'uadb_windc_89601.txt',
'uadb_windc_89606.txt',
'uadb_windc_89611.txt',
'uadb_windc_89625.txt',
'uadb_windc_89642.txt',
'uadb_windc_89657.txt',
'uadb_windc_89662.txt',
'uadb_windc_89664.txt',
'uadb_windc_89671.txt',
'uadb_windc_91030.txt',
'uadb_windc_91066.txt',
'uadb_windc_91115.txt',
'uadb_windc_91162.txt',
'uadb_windc_91165.txt',
'uadb_windc_91170.txt',
'uadb_windc_91176.txt',
'uadb_windc_91182.txt',
'uadb_windc_91190.txt',
'uadb_windc_91212.txt',
'uadb_windc_91215.txt',
'uadb_windc_91218.txt',
'uadb_windc_91232.txt',
'uadb_windc_91245.txt',
'uadb_windc_91250.txt',
'uadb_windc_91275.txt',
'uadb_windc_91285.txt',
'uadb_windc_91334.txt',
'uadb_windc_91347.txt',
'uadb_windc_91348.txt',
'uadb_windc_91356.txt',
'uadb_windc_91364.txt',
'uadb_windc_91366.txt',
'uadb_windc_91371.txt',
'uadb_windc_91376.txt',
'uadb_windc_91385.txt',
'uadb_windc_91408.txt',
'uadb_windc_91413.txt',
'uadb_windc_91487.txt',
'uadb_windc_91489.txt',
'uadb_windc_91492.txt',
'uadb_windc_91517.txt',
'uadb_windc_91532.txt',
'uadb_windc_91541.txt',
'uadb_windc_91554.txt',
'uadb_windc_91557.txt',
'uadb_windc_91577.txt',
'uadb_windc_91582.txt',
'uadb_windc_91592.txt',
'uadb_windc_91609.txt',
'uadb_windc_91610.txt',
'uadb_windc_91643.txt',
'uadb_windc_91650.txt',
'uadb_windc_91680.txt',
'uadb_windc_91690.txt',
'uadb_windc_91701.txt',
'uadb_windc_91762.txt',
'uadb_windc_91764.txt',
'uadb_windc_91765.txt',
'uadb_windc_91792.txt',
'uadb_windc_91800.txt',
'uadb_windc_91801.txt',
'uadb_windc_91830.txt',
'uadb_windc_91843.txt',
'uadb_windc_91902.txt',
'uadb_windc_91925.txt',
'uadb_windc_91928.txt',
'uadb_windc_91929.txt',
'uadb_windc_91931.txt',
'uadb_windc_91938.txt',
'uadb_windc_91941.txt',
'uadb_windc_91943.txt',
'uadb_windc_91944.txt',
'uadb_windc_91945.txt',
'uadb_windc_91946.txt',
'uadb_windc_91948.txt',
'uadb_windc_91949.txt',
'uadb_windc_91952.txt',
'uadb_windc_91954.txt',
'uadb_windc_91958.txt',
'uadb_windc_92035.txt',
'uadb_windc_92044.txt',
'uadb_windc_93012.txt',
'uadb_windc_93072.txt',
'uadb_windc_93112.txt',
'uadb_windc_93246.txt',
'uadb_windc_93291.txt',
'uadb_windc_93308.txt',
'uadb_windc_93337.txt',
'uadb_windc_93401.txt',
'uadb_windc_93417.txt',
'uadb_windc_93431.txt',
'uadb_windc_93545.txt',
'uadb_windc_93614.txt',
'uadb_windc_93677.txt',
'uadb_windc_93769.txt',
'uadb_windc_93780.txt',
'uadb_windc_93817.txt',
'uadb_windc_93844.txt',
'uadb_windc_93890.txt',
'uadb_windc_93944.txt',
'uadb_windc_93986.txt',
'uadb_windc_93995.txt',
'uadb_windc_93996.txt',
'uadb_windc_93997.txt',
'uadb_windc_94014.txt',
'uadb_windc_94027.txt',
'uadb_windc_94047.txt',
'uadb_windc_94076.txt',
'uadb_windc_94085.txt',
'uadb_windc_94087.txt',
'uadb_windc_94120.txt',
'uadb_windc_94150.txt',
'uadb_windc_94170.txt',
'uadb_windc_94175.txt',
'uadb_windc_94203.txt',
'uadb_windc_94205.txt',
'uadb_windc_94212.txt',
'uadb_windc_94234.txt',
'uadb_windc_94238.txt',
'uadb_windc_94240.txt',
'uadb_windc_94287.txt',
'uadb_windc_94294.txt',
'uadb_windc_94299.txt',
'uadb_windc_94300.txt',
'uadb_windc_94302.txt',
'uadb_windc_94305.txt',
'uadb_windc_94312.txt',
'uadb_windc_94326.txt',
'uadb_windc_94332.txt',
'uadb_windc_94335.txt',
'uadb_windc_94346.txt',
'uadb_windc_94367.txt',
'uadb_windc_94374.txt',
'uadb_windc_94380.txt',
'uadb_windc_94403.txt',
'uadb_windc_94430.txt',
'uadb_windc_94461.txt',
'uadb_windc_94476.txt',
'uadb_windc_94510.txt',
'uadb_windc_94568.txt',
'uadb_windc_94578.txt',
'uadb_windc_94610.txt',
'uadb_windc_94637.txt',
'uadb_windc_94638.txt',
'uadb_windc_94646.txt',
'uadb_windc_94647.txt',
'uadb_windc_94653.txt',
'uadb_windc_94659.txt',
'uadb_windc_94672.txt',
'uadb_windc_94677.txt',
'uadb_windc_94693.txt',
'uadb_windc_94711.txt',
'uadb_windc_94750.txt',
'uadb_windc_94767.txt',
'uadb_windc_94772.txt',
'uadb_windc_94776.txt',
'uadb_windc_94791.txt',
'uadb_windc_94802.txt',
'uadb_windc_94805.txt',
'uadb_windc_94821.txt',
'uadb_windc_94866.txt',
'uadb_windc_94907.txt',
'uadb_windc_94910.txt',
'uadb_windc_94926.txt',
'uadb_windc_94968.txt',
'uadb_windc_94975.txt',
'uadb_windc_94995.txt',
'uadb_windc_94996.txt',
'uadb_windc_94997.txt',
'uadb_windc_94998.txt',
'uadb_windc_95527.txt',
'uadb_windc_96001.txt',
'uadb_windc_96009.txt',
'uadb_windc_96011.txt',
'uadb_windc_96015.txt',
'uadb_windc_96035.txt',
'uadb_windc_96073.txt',
'uadb_windc_96075.txt',
'uadb_windc_96091.txt',
'uadb_windc_96109.txt',
'uadb_windc_96145.txt',
'uadb_windc_96147.txt',
'uadb_windc_96163.txt',
'uadb_windc_96171.txt',
'uadb_windc_96179.txt',
'uadb_windc_96195.txt',
'uadb_windc_96207.txt',
'uadb_windc_96221.txt',
'uadb_windc_96237.txt',
'uadb_windc_96249.txt',
'uadb_windc_96253.txt',
'uadb_windc_96273.txt',
'uadb_windc_96295.txt',
'uadb_windc_96315.txt',
'uadb_windc_96323.txt',
'uadb_windc_96413.txt',
'uadb_windc_96441.txt',
'uadb_windc_96465.txt',
'uadb_windc_96471.txt',
'uadb_windc_96481.txt',
'uadb_windc_96491.txt',
'uadb_windc_96509.txt',
'uadb_windc_96529.txt',
'uadb_windc_96535.txt',
'uadb_windc_96565.txt',
'uadb_windc_96581.txt',
'uadb_windc_96583.txt',
'uadb_windc_96595.txt',
'uadb_windc_96607.txt',
'uadb_windc_96633.txt',
'uadb_windc_96645.txt',
'uadb_windc_96655.txt',
'uadb_windc_96685.txt',
'uadb_windc_96737.txt',
'uadb_windc_96739.txt',
'uadb_windc_96749.txt',
'uadb_windc_96755.txt',
'uadb_windc_96773.txt',
'uadb_windc_96781.txt',
'uadb_windc_96791.txt',
'uadb_windc_96797.txt',
'uadb_windc_96801.txt',
'uadb_windc_96805.txt',
'uadb_windc_96839.txt',
'uadb_windc_96845.txt',
'uadb_windc_96853.txt',
'uadb_windc_96881.txt',
'uadb_windc_96925.txt',
'uadb_windc_96935.txt',
'uadb_windc_96947.txt',
'uadb_windc_96973.txt',
'uadb_windc_96987.txt',
'uadb_windc_96995.txt',
'uadb_windc_96996.txt',
'uadb_windc_97008.txt',
'uadb_windc_97014.txt',
'uadb_windc_97028.txt',
'uadb_windc_97048.txt',
'uadb_windc_97072.txt',
'uadb_windc_97086.txt',
'uadb_windc_97096.txt',
'uadb_windc_97120.txt',
'uadb_windc_97146.txt',
'uadb_windc_97180.txt',
'uadb_windc_97192.txt',
'uadb_windc_97230.txt',
'uadb_windc_97240.txt',
'uadb_windc_97260.txt',
'uadb_windc_97270.txt',
'uadb_windc_97300.txt',
'uadb_windc_97340.txt',
'uadb_windc_97372.txt',
'uadb_windc_97385.txt',
'uadb_windc_97388.txt',
'uadb_windc_97390.txt',
'uadb_windc_97404.txt',
'uadb_windc_97430.txt',
'uadb_windc_97450.txt',
'uadb_windc_97460.txt',
'uadb_windc_97502.txt',
'uadb_windc_97530.txt',
'uadb_windc_97560.txt',
'uadb_windc_97600.txt',
'uadb_windc_97686.txt',
'uadb_windc_97690.txt',
'uadb_windc_97724.txt',
'uadb_windc_97748.txt',
'uadb_windc_97760.txt',
'uadb_windc_97810.txt',
'uadb_windc_97876.txt',
'uadb_windc_97900.txt',
'uadb_windc_97980.txt',
'uadb_windc_98135.txt',
'uadb_windc_98223.txt',
'uadb_windc_98233.txt',
'uadb_windc_98322.txt',
'uadb_windc_98327.txt',
'uadb_windc_98328.txt',
'uadb_windc_98425.txt',
'uadb_windc_98426.txt',
'uadb_windc_98428.txt',
'uadb_windc_98433.txt',
'uadb_windc_98444.txt',
'uadb_windc_98618.txt',
'uadb_windc_98630.txt',
'uadb_windc_98646.txt',
'uadb_windc_98653.txt',
'uadb_windc_98747.txt',
'uadb_windc_98753.txt',
'uadb_windc_98830.txt',
'uadb_windc_98836.txt',
'uadb_windc_99877.txt',
'uadb_windc_99883.txt',
'uadb_windc_99911.txt',
'uadb_windc_47155.txt',
'uadb_windc_72413.txt',
'uadb_windc_57687.txt',
'uadb_windc_74630.txt',
'uadb_windc_74733.txt',
'uadb_windc_98558.txt']
for file in filelist:
    filename=dspath+file
    file_base = os.path.basename(file)
    print('Downloading',file_base)
    req = requests.get(filename, cookies = ret.cookies, allow_redirects=True, stream=True)
    filesize = int(req.headers['Content-length'])
    with open(file_base, 'wb') as outfile:
        chunk_size=1048576
        for chunk in req.iter_content(chunk_size=chunk_size):
            outfile.write(chunk)
            if chunk_size < filesize:
                check_file_status(file_base, filesize)
    check_file_status(file_base, filesize)
    print()
